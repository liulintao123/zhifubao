<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>检索</title>
	<style>
	.red{ 
		color:red;
		 }
	.green{
		color:green;
	}
	.pink{
		background-color: pink;
	}
	</style>
</head>
<body>
	<p><textarea id="text"></textarea></p>
	<p><button id="btn">开始检测</button></p>
	<p><span id="result"></span></p>
	<p id="edit"></p>
	<script>
	var obj=document.getElementById("text")
	var btn=document.getElementById("btn")
	var result=document.getElementById("result")
	var edit=document.getElementById("edit")
	var words=["天安门","中南海","五四","54","反动"]
	btn.onclick=function(){
		var secondedit=false
		// 获取文本域的文字
		var text=obj.value
		// 将文本域的文字拷贝一份显示给edit p 标签
		edit.innerHTML=text
		// 枚举敏感词
		for(var i=0;i<words.length;i++){
			// 在文本域里有没有存在敏感词
			if(text.indexOf(words[i])!==-1){
			secondedit=true;
			// 修改p标签里面的文字样式
			edit.innerHTML=edit.innerHTML.replace(words[i],"<span class='pink'>"+words[i]+"</span>")
			}
		}
			if(secondedit){
				// 显示警告
				result.innerHTML="检测到敏感词汇"
				result.className="red"
			}
			else{
				// 显示通过
				result.innerHTML="通过"
				result.className="green"
				edit.innerHTML=""			
			}	
	}
	</script>
</body>
</html>